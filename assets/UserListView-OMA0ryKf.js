import{d as A,D as N,u as z,G as D,r as P,L as I,z as L,c,e as t,f as o,w as i,_ as u,k as m,g as x,l,M,i as y,H as R,I as E,n as h,t as f,B as G,A as q,s as H,x as n}from"./index-N1mcpD2Q.js";import{_ as b}from"./BaseCard.vue_vue_type_script_setup_true_lang-BddG5p4d.js";import{_ as J}from"./BaseInput.vue_vue_type_script_setup_true_lang-CiqAZZOo.js";import{p as K}from"./pt-BR-B99el_pn.js";import{f as O}from"./format-N88NX5Wy.js";const Q={class:"space-y-6"},W={class:"md:flex md:items-center md:justify-between"},X={class:"mt-4 flex md:mt-0 md:ml-4"},Y={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},Z={class:"flex items-end"},tt={class:"overflow-x-auto"},et={class:"min-w-full divide-y divide-gray-200/50"},st={class:"bg-white/50 divide-y divide-gray-200/30"},ot={class:"px-6 py-4 whitespace-nowrap"},at={class:"flex items-center"},it={class:"flex-shrink-0 h-12 w-12"},rt={class:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-cyan-600 flex items-center justify-center shadow-lg"},lt={class:"ml-4"},nt={class:"text-sm font-semibold text-gray-900"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},ct={class:"px-6 py-4 whitespace-nowrap"},ut={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},mt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},ft={class:"flex items-center justify-end space-x-2"},pt={key:0},xt={colspan:"5",class:"px-6 py-12 whitespace-nowrap text-sm text-gray-500 text-center"},gt={class:"flex flex-col items-center justify-center"},_t={class:"w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mb-4"},Ct=A({__name:"UserListView",setup(vt){const w=H(),d=N(),k=z(),{loading:C}=D(d),r=P({search:"",status:void 0});I(()=>{d.loadUsers()});const g=L(()=>d.filteredUsers(r.value));let _;function U(){clearTimeout(_),_=setTimeout(()=>{},300)}function $(){r.value={search:"",status:void 0}}function V(a){w.push(`/users/${a}/edit`)}async function B(a){confirm("Tem certeza que deseja desativar este usuário?")&&await d.deleteUser(a)}function S(a){return O(a,"dd/MM/yyyy",{locale:K})}function T(a){if(!a)return"";const e=a.replace(/\D/g,"");return e.length!==11?a:e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}return(a,e)=>{const p=x("el-icon"),v=x("el-option"),j=x("el-select");return n(),c("div",Q,[t("div",W,[e[4]||(e[4]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Gerenciamento de Usuários "),t("p",{class:"mt-1 text-sm text-gray-500"}," Gerencie usuários do sistema, permissões e status de acesso. ")],-1)),t("div",X,[o(u,{variant:"gradient",onClick:e[0]||(e[0]=s=>a.$router.push("/users/create")),icon:"Plus"},{default:i(()=>e[3]||(e[3]=[m(" Novo Usuário ")])),_:1,__:[3]})])]),o(b,{variant:"glass",padding:"large"},{default:i(()=>[t("div",Y,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Buscar",-1)),o(J,{modelValue:r.value.search,"onUpdate:modelValue":e[1]||(e[1]=s=>r.value.search=s),placeholder:"Buscar por nome ou CPF...",onInput:U},{suffix:i(()=>[o(p,{class:"text-gray-400"},{default:i(()=>[o(l(M))]),_:1})]),_:1},8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),o(j,{modelValue:r.value.status,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value.status=s),placeholder:"Todos os status",clearable:"",class:"w-full"},{default:i(()=>[o(v,{label:"Ativo",value:"active"}),o(v,{label:"Inativo",value:"inactive"})]),_:1},8,["modelValue"])]),t("div",Z,[o(u,{variant:"outline",onClick:$,class:"w-full h-10",icon:"Refresh"},{default:i(()=>e[7]||(e[7]=[m(" Limpar Filtros ")])),_:1,__:[7]})])])]),_:1}),o(b,{variant:"glass",padding:"none"},{default:i(()=>[t("div",tt,[t("table",et,[e[12]||(e[12]=t("thead",{class:"bg-gradient-to-r from-gray-50 to-blue-50/50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Usuário "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," CPF "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Criado em "),t("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Ações ")])],-1)),t("tbody",st,[(n(!0),c(R,null,E(g.value,s=>(n(),c("tr",{key:s.id,class:"hover:bg-white/80 transition-colors"},[t("td",ot,[t("div",at,[t("div",it,[t("div",rt,[o(p,{class:"h-6 w-6"},{default:i(()=>[o(l(h),{class:"text-white"})]),_:1})])]),t("div",lt,[t("div",nt,f(s.name),1)])])]),t("td",dt,f(T(s.document)),1),t("td",ct,[t("span",{class:G(["inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",s.status==="active"?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200":"bg-gradient-to-r from-red-100 to-pink-100 text-red-800 border border-red-200"])},f(s.status==="active"?"Ativo":"Inativo"),3)]),t("td",ut,f(S(s.createdAt)),1),t("td",mt,[t("div",ft,[o(u,{variant:"outline",size:"small",onClick:F=>V(s.id),icon:"Edit"},{default:i(()=>e[8]||(e[8]=[m(" Editar ")])),_:2,__:[8]},1032,["onClick"]),s.status==="active"&&s.id!==l(k).user?.id?(n(),q(u,{key:0,variant:"danger",size:"small",onClick:F=>B(s.id),loading:l(C),icon:"Close"},{default:i(()=>e[9]||(e[9]=[m(" Desativar ")])),_:2,__:[9]},1032,["onClick","loading"])):y("",!0)])])]))),128)),g.value.length===0?(n(),c("tr",pt,[t("td",xt,[t("div",gt,[t("div",_t,[o(p,{class:"h-8 w-8 text-gray-400"},{default:i(()=>[o(l(h))]),_:1})]),e[10]||(e[10]=t("p",{class:"text-lg font-semibold text-gray-900 mb-2"},"Nenhum usuário encontrado",-1)),e[11]||(e[11]=t("p",{class:"text-gray-600"},"Tente ajustar os filtros ou adicione um novo usuário.",-1))])])])):y("",!0)])])])]),_:1})])}}});export{Ct as default};
