import{d as j,z as S,B as z,r as F,K as D,C as L,c as m,e as t,f as a,w as o,_ as p,k as f,g,l as i,L as M,P as d,i as h,F as R,G,D as b,t as n,I as P,M as U,s as q,x as c}from"./index-CB8nZGuZ.js";import{_ as w}from"./BaseCard.vue_vue_type_script_setup_true_lang-sYe4c1O8.js";import{_ as K}from"./BaseInput.vue_vue_type_script_setup_true_lang-x46GD-RI.js";import{f as H}from"./format-N88NX5Wy.js";import{p as J}from"./pt-BR-B99el_pn.js";const O={class:"space-y-8"},Q={class:"md:flex md:items-center md:justify-between"},W={class:"mt-4 flex md:mt-0 md:ml-4"},X={class:"grid grid-cols-1 gap-6 sm:grid-cols-3"},Y={class:"flex items-end"},Z={class:"overflow-x-auto"},tt={class:"min-w-full divide-y divide-gray-200/50"},et={class:"bg-white/50 divide-y divide-gray-200/30"},st={class:"px-6 py-4 whitespace-nowrap"},at={class:"flex items-center"},ot={class:"flex-shrink-0 h-12 w-12"},lt={class:"h-12 w-12 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center shadow-lg"},it={class:"ml-4"},nt={class:"text-sm font-semibold text-gray-900"},rt={class:"text-sm text-gray-600"},dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 font-medium"},ct={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},ut={class:"font-medium"},mt={class:"text-sm text-gray-600"},pt={class:"px-6 py-4 whitespace-nowrap"},ft={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},xt={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},gt={class:"flex items-center justify-end space-x-2"},_t={key:0},yt={colspan:"6",class:"px-6 py-12 whitespace-nowrap text-sm text-gray-500 text-center"},vt={class:"flex flex-col items-center justify-center"},ht={class:"w-16 h-16 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mb-4"},$t=j({__name:"ClientListView",setup(bt){const C=q(),u=S(),{loading:k}=z(u),r=F({search:"",status:void 0});D(()=>{u.loadClients()});const _=L(()=>u.filteredClients(r.value));let y;function V(){clearTimeout(y),y=setTimeout(()=>{},300)}function T(){r.value={search:"",status:void 0}}function $(l){C.push(`/clients/${l}/edit`)}async function I(l){confirm("Tem certeza que deseja desativar este cliente?")&&await u.deleteClient(l)}function A(l){return H(l,"dd/MM/yyyy",{locale:J})}function B(l){return l.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4")}return(l,e)=>{const x=g("el-icon"),v=g("el-option"),E=g("el-select");return c(),m("div",O,[t("div",Q,[e[4]||(e[4]=t("div",{class:"flex-1 min-w-0"},[t("h2",{class:"text-3xl font-bold bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text text-transparent"}," Gerenciamento de Clientes "),t("p",{class:"mt-2 text-lg text-gray-600"}," Gerencie clientes, informações de contato e endereços. ")],-1)),t("div",W,[a(p,{variant:"gradient",onClick:e[0]||(e[0]=s=>l.$router.push("/clients/create")),icon:"Plus"},{default:o(()=>e[3]||(e[3]=[f(" Novo Cliente ")])),_:1,__:[3]})])]),a(w,{variant:"glass",padding:"large"},{default:o(()=>[t("div",X,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Buscar",-1)),a(K,{modelValue:r.value.search,"onUpdate:modelValue":e[1]||(e[1]=s=>r.value.search=s),placeholder:"Buscar por nome, sobrenome ou documento...",onInput:V},{suffix:o(()=>[a(x,{class:"text-gray-400"},{default:o(()=>[a(i(M))]),_:1})]),_:1},8,["modelValue"])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"Status",-1)),a(E,{modelValue:r.value.status,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value.status=s),placeholder:"Todos os status",clearable:"",class:"w-full"},{default:o(()=>[a(v,{label:"Ativo",value:i(d).ACTIVE},null,8,["value"]),a(v,{label:"Inativo",value:i(d).INACTIVE},null,8,["value"])]),_:1},8,["modelValue"])]),t("div",Y,[a(p,{variant:"outline",onClick:T,class:"w-full h-10",icon:"Refresh"},{default:o(()=>e[7]||(e[7]=[f(" Limpar Filtros ")])),_:1,__:[7]})])])]),_:1}),a(w,{variant:"glass",padding:"none"},{default:o(()=>[t("div",Z,[t("table",tt,[e[12]||(e[12]=t("thead",{class:"bg-gradient-to-r from-gray-50 to-blue-50/50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Cliente "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," CPF "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Contato "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status "),t("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Criado em "),t("th",{class:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Ações ")])],-1)),t("tbody",et,[(c(!0),m(R,null,G(_.value,s=>(c(),m("tr",{key:s.id,class:"hover:bg-white/80 transition-colors"},[t("td",st,[t("div",at,[t("div",ot,[t("div",lt,[a(x,{class:"h-6 w-6"},{default:o(()=>[a(i(b),{class:"text-white"})]),_:1})])]),t("div",it,[t("div",nt,n(s.name)+" "+n(s.lastName),1),t("div",rt,n(s.email),1)])])]),t("td",dt,n(B(s.cpf)),1),t("td",ct,[t("div",ut,n(s.phone),1),t("div",mt,n(s.address.city)+"/"+n(s.address.state),1)]),t("td",pt,[t("span",{class:P(["inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",s.status===i(d).ACTIVE?"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200":"bg-gradient-to-r from-red-100 to-pink-100 text-red-800 border border-red-200"])},n(s.status===i(d).ACTIVE?"Ativo":"Inativo"),3)]),t("td",ft,n(A(s.createdAt)),1),t("td",xt,[t("div",gt,[a(p,{variant:"outline",size:"small",onClick:N=>$(s.id),icon:"Edit"},{default:o(()=>e[8]||(e[8]=[f(" Editar ")])),_:2,__:[8]},1032,["onClick"]),s.status===i(d).ACTIVE?(c(),U(p,{key:0,variant:"danger",size:"small",onClick:N=>I(s.id),loading:i(k),icon:"Close"},{default:o(()=>e[9]||(e[9]=[f(" Desativar ")])),_:2,__:[9]},1032,["onClick","loading"])):h("",!0)])])]))),128)),_.value.length===0?(c(),m("tr",_t,[t("td",yt,[t("div",vt,[t("div",ht,[a(x,{class:"h-8 w-8 text-gray-400"},{default:o(()=>[a(i(b))]),_:1})]),e[10]||(e[10]=t("p",{class:"text-lg font-semibold text-gray-900 mb-2"},"Nenhum cliente encontrado",-1)),e[11]||(e[11]=t("p",{class:"text-gray-600"},"Tente ajustar os filtros ou adicione um novo cliente.",-1))])])])):h("",!0)])])])]),_:1})])}}});export{$t as default};
