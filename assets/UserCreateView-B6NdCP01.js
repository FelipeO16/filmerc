import{d as C,l as S,r as U,a as f,c as _,b as a,e as r,w as n,_ as u,j as i,f as m,g as k,H as N,E as D,t as $,i as h,k as j,o as v}from"./index-BdsJ8-RX.js";import{_ as E}from"./BaseCard.vue_vue_type_script_setup_true_lang-BCu_7QUG.js";import{_ as c}from"./BaseInput.vue_vue_type_script_setup_true_lang-hbf-dQvH.js";const q={class:"space-y-6"},B={class:"md:flex md:items-center md:justify-between"},A={class:"mt-4 flex md:mt-0 md:ml-4"},F={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},P={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},H={key:0,class:"mt-1 text-sm text-red-600"},I={class:"flex justify-end space-x-3 pt-6 border-t border-gray-200"},T=C({__name:"UserCreateView",setup(J){const g=j(),b=S(),d=U(!1),t=f({name:"",document:"",password:"",status:""}),s=f({name:"",document:"",password:"",status:""});function w(){Object.keys(s).forEach(e=>{s[e]=""});let o=!0;return t.name.trim()||(s.name="Nome é obrigatório",o=!1),t.document.trim()?t.document.length<11&&(s.document="Documento deve ter pelo menos 11 caracteres",o=!1):(s.document="Documento é obrigatório",o=!1),t.password.trim()?t.password.length<6&&(s.password="Senha deve ter pelo menos 6 caracteres",o=!1):(s.password="Senha é obrigatória",o=!1),t.status||(s.status="Status é obrigatório",o=!1),o}async function x(){if(w())try{d.value=!0,await b.createUser({name:t.name,document:t.document,password:t.password,status:t.status})&&g.push("/users")}catch(o){console.error("Erro ao criar usuário:",o)}finally{d.value=!1}}return(o,e)=>{const V=m("el-icon"),p=m("el-option"),y=m("el-select");return v(),_("div",q,[a("div",B,[e[7]||(e[7]=a("div",{class:"flex-1 min-w-0"},[a("h2",{class:"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl sm:truncate"}," Criar Novo Usuário "),a("p",{class:"mt-1 text-sm text-gray-500"},"Adicione um novo usuário ao sistema.")],-1)),a("div",A,[r(u,{variant:"outline",onClick:e[0]||(e[0]=l=>o.$router.push("/users"))},{default:n(()=>[r(V,{class:"mr-2"},{default:n(()=>[r(k(N))]),_:1}),e[6]||(e[6]=i(" Voltar "))]),_:1,__:[6]})])]),r(E,null,{default:n(()=>[a("form",{onSubmit:h(x,["prevent"]),class:"space-y-6"},[a("div",F,[r(c,{modelValue:t.name,"onUpdate:modelValue":e[1]||(e[1]=l=>t.name=l),label:"Nome Completo",placeholder:"Digite o nome completo",required:"",error:s.name},null,8,["modelValue","error"]),r(c,{modelValue:t.document,"onUpdate:modelValue":e[2]||(e[2]=l=>t.document=l),label:"Documento",placeholder:"Digite o documento (CPF/CNPJ)",required:"",error:s.document},null,8,["modelValue","error"])]),a("div",P,[r(c,{modelValue:t.password,"onUpdate:modelValue":e[3]||(e[3]=l=>t.password=l),type:"password",label:"Senha",placeholder:"Digite a senha",required:"",error:s.password},null,8,["modelValue","error"]),a("div",null,[e[8]||(e[8]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},[i(" Status "),a("span",{class:"text-red-500"},"*")],-1)),r(y,{modelValue:t.status,"onUpdate:modelValue":e[4]||(e[4]=l=>t.status=l),placeholder:"Selecione o status",class:"w-full"},{default:n(()=>[r(p,{label:"Ativo",value:"active"}),r(p,{label:"Inativo",value:"inactive"})]),_:1},8,["modelValue"]),s.status?(v(),_("p",H,$(s.status),1)):D("",!0)])]),a("div",I,[r(u,{type:"button",variant:"outline",onClick:e[5]||(e[5]=l=>o.$router.push("/users"))},{default:n(()=>e[9]||(e[9]=[i(" Cancelar ")])),_:1,__:[9]}),r(u,{type:"submit",loading:d.value},{default:n(()=>e[10]||(e[10]=[i(" Criar Usuário ")])),_:1,__:[10]},8,["loading"])])],32)]),_:1})])}}});export{T as default};
