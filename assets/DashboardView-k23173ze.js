import{d as k,y as u,z as w,w as r,e,A as $,f as o,B as T,g as F,t as l,k as g,_ as m,x as a,C as z,u as q,D as E,E as M,F as P,G as B,c as d,l as h,H as V,I as j,J as G,K as H}from"./index-D98dJrHF.js";import{_ as x}from"./BaseCard.vue_vue_type_script_setup_true_lang-COep7mP0.js";import{_ as I}from"./PageHeader.vue_vue_type_script_setup_true_lang-cVgJCzcJ.js";import{f as J}from"./format-Cmdj2ZIU.js";const K={class:"p-6"},Q={class:"flex items-center"},W={class:"flex-shrink-0"},O={class:"ml-4 w-0 flex-1"},X={class:"text-sm font-semibold text-gray-600 truncate"},Y={class:"text-2xl font-bold text-gray-900"},Z={class:"text-sm"},f=k({__name:"StatCard",props:{title:{},value:{},icon:{},variant:{default:"blue"},actionText:{}},emits:["action"],setup(y){const c=y,p=u(()=>({blue:"bg-gradient-to-br from-blue-500 to-indigo-600",green:"bg-gradient-to-br from-green-500 to-emerald-600",yellow:"bg-gradient-to-br from-yellow-500 to-orange-600",red:"bg-gradient-to-br from-red-500 to-pink-600"})[c.variant]),b=u(()=>({blue:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200/50",green:"bg-gradient-to-r from-green-50 to-emerald-50 border-green-200/50",yellow:"bg-gradient-to-r from-yellow-50 to-orange-50 border-yellow-200/50",red:"bg-gradient-to-r from-red-50 to-pink-50 border-red-200/50"})[c.variant]);return(n,v)=>{const _=F("el-icon");return a(),w(x,{variant:"glass"},{default:r(()=>[e("div",K,[e("div",Q,[e("div",W,[e("div",{class:$(["w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",p.value])},[o(_,{class:"h-6 w-6"},{default:r(()=>[(a(),w(T(n.icon),{class:"text-white"}))]),_:1})],2)]),e("div",O,[e("dl",null,[e("dt",X,l(n.title),1),e("dd",null,[e("div",Y,l(n.value),1)])])])])]),e("div",{class:$(["px-6 py-5 border-t",b.value])},[e("div",Z,[o(m,{variant:"outline",size:"small",onClick:v[0]||(v[0]=C=>n.$emit("action")),class:"w-full text-xs",icon:"View"},{default:r(()=>[g(l(n.actionText),1)]),_:1})])],2)]),_:1})}}}),ee={class:"text-xl font-bold text-gray-900 mb-6"},te={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},se=k({__name:"QuickActionCard",props:{title:{}},setup(y){return(c,p)=>(a(),w(x,{variant:"glass",padding:"large"},{default:r(()=>[e("h3",ee,l(c.title),1),e("div",te,[z(c.$slots,"default")])]),_:3}))}}),oe={class:"space-y-8"},re={class:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4"},ne={class:"grid grid-cols-1 gap-8 lg:grid-cols-2"},ae={key:0,class:"space-y-4"},le={class:"text-sm font-semibold text-gray-900"},ie={class:"text-xs text-gray-600"},de={class:"text-right"},ue={class:"text-sm font-semibold text-gray-900"},ce={key:1,class:"text-center py-8"},ge={class:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4"},me={key:0,class:"overflow-x-auto"},pe={class:"min-w-full divide-y divide-gray-200/50"},ve={class:"bg-white/50 divide-y divide-gray-200/30"},fe={class:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900"},xe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},ye={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600"},be={class:"px-6 py-4 whitespace-nowrap"},_e={key:1,class:"text-center py-12"},he={class:"w-16 h-16 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4"},Ae=k({__name:"DashboardView",setup(y){const c=q(),p=E(),b=M(),n=P(),{users:v}=B(p),{rentals:_}=B(n),C=u(()=>v.value.length),U=u(()=>b.activeClients.length),L=u(()=>n.activeRentals.length),N=u(()=>n.overdueRentals.length),A=u(()=>n.upcomingReturns),D=u(()=>_.value.slice(0,10));function S(i){return J(i,"dd/MM/yyyy")}return(i,t)=>{const R=F("el-icon");return a(),d("div",oe,[o(I,{title:"Dashboard",description:`Bem-vindo de volta,  ${h(c).user?.name}! Aqui está o que está acontecendo com seu negócio de locadora de filmes.`},null,8,["description"]),e("div",re,[o(f,{title:"Total de Usuários",value:C.value,icon:"User",variant:"blue","action-text":"Ver usuários",onAction:t[0]||(t[0]=s=>i.$router.push("/users"))},null,8,["value"]),o(f,{title:"Clientes Ativos",value:U.value,icon:"UserFilled",variant:"green","action-text":"Ver clientes",onAction:t[1]||(t[1]=s=>i.$router.push("/clients"))},null,8,["value"]),o(f,{title:"Locações Ativas",value:L.value,icon:"Film",variant:"yellow","action-text":"Ver locações",onAction:t[2]||(t[2]=s=>i.$router.push("/rentals"))},null,8,["value"]),o(f,{title:"Locações em Atraso",value:N.value,icon:"Warning",variant:"red","action-text":"Ver atrasos",onAction:t[3]||(t[3]=s=>i.$router.push("/rentals?filter=overdue"))},null,8,["value"])]),e("div",ne,[o(se,{title:"Ações Rápidas"},{default:r(()=>[o(m,{variant:"gradient",onClick:t[4]||(t[4]=s=>i.$router.push("/clients/create")),class:"justify-center h-11",icon:"Plus"},{default:r(()=>t[8]||(t[8]=[g(" Adicionar Cliente ")])),_:1,__:[8]}),o(m,{variant:"gradient",onClick:t[5]||(t[5]=s=>i.$router.push("/rentals/create")),class:"justify-center h-11",icon:"DocumentAdd"},{default:r(()=>t[9]||(t[9]=[g(" Nova Locação ")])),_:1,__:[9]}),o(m,{variant:"outline",onClick:t[6]||(t[6]=s=>i.$router.push("/movies")),class:"justify-center h-11",icon:"Search"},{default:r(()=>t[10]||(t[10]=[g(" Buscar Filmes ")])),_:1,__:[10]}),o(m,{variant:"outline",onClick:t[7]||(t[7]=s=>i.$router.push("/users/create")),class:"justify-center h-11",icon:"UserFilled"},{default:r(()=>t[11]||(t[11]=[g(" Adicionar Usuário ")])),_:1,__:[11]})]),_:1}),o(x,{variant:"glass",padding:"large"},{default:r(()=>[t[14]||(t[14]=e("h3",{class:"text-xl font-bold text-gray-900 mb-6"},"Próximas Devoluções",-1)),A.value.length>0?(a(),d("div",ae,[(a(!0),d(V,null,j(A.value,s=>(a(),d("div",{key:s.id,class:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200/50"},[e("div",null,[e("p",le,l(s.client?.name),1),e("p",ie,l(s.movies?.length)+" filme(s)",1)]),e("div",de,[e("p",ue,l(S(s.returnDate)),1),t[12]||(t[12]=e("p",{class:"text-xs text-gray-500"},"Devolução",-1))])]))),128))])):(a(),d("div",ce,[e("div",ge,[o(R,{class:"h-8 w-8 text-gray-400"},{default:r(()=>[o(h(G))]),_:1})]),t[13]||(t[13]=e("p",{class:"text-gray-600"},"Nenhuma devolução próxima",-1))]))]),_:1,__:[14]})]),o(x,{variant:"glass",padding:"none"},{default:r(()=>[t[17]||(t[17]=e("div",{class:"p-6 border-b border-gray-200/50"},[e("h3",{class:"text-xl font-bold text-gray-900"},"Locações Recentes")],-1)),D.value.length>0?(a(),d("div",me,[e("table",pe,[t[15]||(t[15]=e("thead",{class:"bg-gradient-to-r from-gray-50 to-blue-50/50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Cliente "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Filmes "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Data de Locação "),e("th",{class:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status ")])],-1)),e("tbody",ve,[(a(!0),d(V,null,j(D.value,s=>(a(),d("tr",{key:s.id,class:"hover:bg-white/80 transition-colors"},[e("td",fe,l(s.client?.name),1),e("td",xe,l(s.movies?.length)+" filme(s) ",1),e("td",ye,l(S(s.rentalDate)),1),e("td",be,[e("span",{class:$(["inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold",s.status==="rented"?"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-800 border border-yellow-200":"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border border-green-200"])},l(s.status==="rented"?"Alugado":"Devolvido"),3)])]))),128))])])])):(a(),d("div",_e,[e("div",he,[o(R,{class:"h-8 w-8 text-gray-400"},{default:r(()=>[o(h(H))]),_:1})]),t[16]||(t[16]=e("p",{class:"text-gray-600"},"Nenhuma locação recente",-1))]))]),_:1,__:[17]})])}}});export{Ae as default};
